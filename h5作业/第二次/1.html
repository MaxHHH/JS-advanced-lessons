<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    #search{
        width: 175px;
        height: 38px;
        outline: none;
        border-color: orange;
    }
    #btn{
        height: 34px;
        width: 127px;
    }
    #history{
        width:370px;
        height: 130px;
        float: left;
    }
    #tar{
        background-color:#9e9e9e9c;
        float: left;
        margin-right: 10px;
        margin-bottom: 0px;
    }
    #delete{
        height: 130px;
        width: 40px;
        float: left;
    }
</style>

<body>
    <input type="search" placeholder="请输入想查找的商品" id="search" autofocus="autofocus"/>
    <button id="btn" onclick="saveStorage()">搜索</button><br/>
    <div>最近搜索</div> 

    <div style="height:130px; width: 450px;">
        <div id="history"></div>
        <div id="delete">
            <img src="1.png" style="padding-top: 35px; width:28px; height:28px;" onclick="clearStorage('history');"/>
        </div>
    </div>
</body>

<script>
    var hist = document.getElementById('history');
    var search = document.getElementById("search");
    var btn = document.getElementById("btn");
    var delt = document.getElementById('delt');

    function saveStorage(){
        var addd = document.createElement('ad');
        hist.appendChild(addd);
        hist.insertBefore(addd,hist.children[0]);
        addd.id = 'tar';
        var data = search.value;
        var time = new Date().getTime();
        localStorage.setItem(time, data);
        var value = localStorage.getItem(time);
        addd.innerHTML = value;    
        delt.style.display = 'block';   
    }

    function readStorage(){
        for(var j =0;j<localStorage.length;j++){
            var addd = document.createElement('ad');
            hist.appendChild(addd);
            addd.id = 'tar';
            addd.innerHTML += localStorage.getItem(localStorage.key(j));
        }
    }

    function clearStorage(){
        localStorage.clear();
        hist.innerHTML = '';
        delt.style.display = 'none';
    }       
</script>
</html>